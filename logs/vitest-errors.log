
[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Asus/Desktop/Gestion de turnos APP[39m

[90mstdout[2m | tests/assignment.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (3) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/assignment.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: ğŸ“¡ observe env with Radar: https://dotenvx.com/radar

[90mstdout[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

[90mstdout[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments
[22m[39mConectado a MongoDB

[0mPOST /auth/login [32m200[0m 283.631 ms - 625[0m
[0mPOST /auth/register [32m201[0m 280.948 ms - 461[0m
[0mPATCH /auth/aprobar/691fd135344b3bbffce34048 [32m200[0m 147.984 ms - 450[0m
[0mPOST /auth/login [32m200[0m 191.186 ms - 665[0m
[0mPOST /auth/register [32m201[0m 249.612 ms - 468[0m
[0mPATCH /auth/aprobar/691fd135344b3bbffce3404e [32m200[0m 137.946 ms - 457[0m
[0mPOST /auth/login [32m200[0m 224.798 ms - 672[0m
[0mPOST /auth/register [32m201[0m 254.886 ms - 457[0m
[0mPATCH /auth/aprobar/691fd136344b3bbffce34054 [32m200[0m 145.966 ms - 446[0m
[0mPOST /auth/login [32m200[0m 204.276 ms - 658[0m
[0mPOST /auth/register [32m201[0m 261.407 ms - 464[0m
[0mPATCH /auth/aprobar/691fd137344b3bbffce3405a [32m200[0m 132.876 ms - 453[0m
[0mPOST /auth/login [32m200[0m 186.404 ms - 665[0m
[0mPOST /assignments [33m403[0m 68.954 ms - 25[0m
[0mPOST /auth/login [32m200[0m 187.194 ms - 625[0m
[0mPOST /auth/register [32m201[0m 280.374 ms - 461[0m
[0mPATCH /auth/aprobar/691fd138344b3bbffce34067 [32m200[0m 135.244 ms - 450[0m
[0mPOST /auth/login [32m200[0m 289.956 ms - 665[0m
[0mPOST /auth/register [32m201[0m 356.068 ms - 468[0m
[0mPATCH /auth/aprobar/691fd139344b3bbffce3406d [32m200[0m 140.384 ms - 457[0m
[0mPOST /auth/login [32m200[0m 188.509 ms - 672[0m
[0mPOST /auth/register [32m201[0m 256.017 ms - 457[0m
[0mPATCH /auth/aprobar/691fd13a344b3bbffce34073 [32m200[0m 137.750 ms - 446[0m
[0mPOST /auth/login [32m200[0m 187.662 ms - 658[0m
[0mPOST /auth/register [32m201[0m 248.444 ms - 464[0m
[0mPATCH /auth/aprobar/691fd13a344b3bbffce34079 [32m200[0m 138.671 ms - 453[0m
[0mPOST /auth/login [32m200[0m 191.418 ms - 665[0m
[0mPOST /assignments [33m400[0m 69.043 ms - 139[0m
[0mPOST /auth/login [32m200[0m 190.486 ms - 625[0m
[0mPOST /auth/register [32m201[0m 257.785 ms - 461[0m
[0mPATCH /auth/aprobar/691fd13c344b3bbffce34086 [32m200[0m 143.370 ms - 450[0m
[0mPOST /auth/login [32m200[0m 186.650 ms - 665[0m
[0mPOST /auth/register [32m201[0m 256.691 ms - 468[0m
[0mPATCH /auth/aprobar/691fd13c344b3bbffce3408c [32m200[0m 134.064 ms - 457[0m
[0mPOST /auth/login [32m200[0m 228.390 ms - 672[0m
[0mPOST /auth/register [32m201[0m 255.378 ms - 458[0m
[0mPATCH /auth/aprobar/691fd13d344b3bbffce34092 [32m200[0m 139.336 ms - 447[0m
[0mPOST /auth/login [32m200[0m 181.310 ms - 659[0m
[0mPOST /auth/register [32m201[0m 246.293 ms - 465[0m
[0mPATCH /auth/aprobar/691fd13d344b3bbffce34098 [32m200[0m 139.606 ms - 454[0m
[0mPOST /auth/login [32m200[0m 197.256 ms - 666[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mAsignacion valida conserva ownership del profesor creador
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}
[0mPOST /assignments [31m500[0m 91.937 ms - 76[0m

[0mPOST /auth/login [32m200[0m 199.738 ms - 625[0m
[0mPOST /auth/register [32m201[0m 288.133 ms - 462[0m
[0mPATCH /auth/aprobar/691fd13f344b3bbffce340a6 [32m200[0m 134.005 ms - 451[0m
[0mPOST /auth/login [32m200[0m 181.404 ms - 666[0m
[0mPOST /auth/register [32m201[0m 243.922 ms - 469[0m
[0mPATCH /auth/aprobar/691fd140344b3bbffce340ac [32m200[0m 175.411 ms - 458[0m
[0mPOST /auth/login [32m200[0m 179.004 ms - 673[0m
[0mPOST /auth/register [32m201[0m 261.366 ms - 458[0m
[0mPATCH /auth/aprobar/691fd140344b3bbffce340b2 [32m200[0m 130.395 ms - 447[0m
[0mPOST /auth/login [32m200[0m 177.514 ms - 659[0m
[0mPOST /auth/register [32m201[0m 248.040 ms - 465[0m
[0mPATCH /auth/aprobar/691fd141344b3bbffce340b8 [32m200[0m 131.952 ms - 454[0m
[0mPOST /auth/login [32m200[0m 227.876 ms - 666[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mProfesor ajeno no puede actualizar asignacion de otro profesor
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 71.341 ms - 76[0m
[0mPUT /assignments/undefined [33m400[0m 76.215 ms - 93[0m
[0mPOST /auth/login [32m200[0m 200.269 ms - 625[0m
[0mPOST /auth/register [32m201[0m 278.275 ms - 462[0m
[0mPATCH /auth/aprobar/691fd142344b3bbffce340c7 [32m200[0m 134.181 ms - 451[0m
[0mPOST /auth/login [32m200[0m 194.346 ms - 666[0m
[0mPOST /auth/register [32m201[0m 254.223 ms - 469[0m
[0mPATCH /auth/aprobar/691fd143344b3bbffce340cd [32m200[0m 131.964 ms - 458[0m
[0mPOST /auth/login [32m200[0m 215.295 ms - 673[0m
[0mPOST /auth/register [32m201[0m 392.168 ms - 458[0m
[0mPATCH /auth/aprobar/691fd144344b3bbffce340d3 [32m200[0m 146.795 ms - 447[0m
[0mPOST /auth/login [32m200[0m 190.873 ms - 659[0m
[0mPOST /auth/register [32m201[0m 245.117 ms - 465[0m
[0mPATCH /auth/aprobar/691fd144344b3bbffce340d9 [32m200[0m 134.810 ms - 454[0m
[0mPOST /auth/login [32m200[0m 189.791 ms - 666[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mSuperadmin puede actualizar asignacion ajena
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 68.862 ms - 76[0m
[0mPUT /assignments/undefined [33m400[0m 69.995 ms - 93[0m
[0mPOST /auth/login [32m200[0m 193.081 ms - 625[0m
[0mPOST /auth/register [32m201[0m 297.818 ms - 462[0m
[0mPATCH /auth/aprobar/691fd146344b3bbffce340e8 [32m200[0m 141.395 ms - 451[0m
[0mPOST /auth/login [32m200[0m 186.361 ms - 666[0m
[0mPOST /auth/register [32m201[0m 256.938 ms - 469[0m
[0mPATCH /auth/aprobar/691fd147344b3bbffce340ee [32m200[0m 132.563 ms - 458[0m
[0mPOST /auth/login [32m200[0m 186.623 ms - 673[0m
[0mPOST /auth/register [32m201[0m 249.538 ms - 458[0m
[0mPATCH /auth/aprobar/691fd147344b3bbffce340f4 [32m200[0m 131.849 ms - 447[0m
[0mPOST /auth/login [32m200[0m 180.628 ms - 659[0m
[0mPOST /auth/register [32m201[0m 258.387 ms - 465[0m
[0mPATCH /auth/aprobar/691fd148344b3bbffce340fa [32m200[0m 144.025 ms - 454[0m
[0mPOST /auth/login [32m200[0m 235.736 ms - 666[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mProfesor ajeno no puede eliminar asignacion y la misma sigue disponible
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 69.144 ms - 76[0m
[0mDELETE /assignments/undefined [33m400[0m 69.324 ms - 93[0m
[0mPOST /auth/login [32m200[0m 185.122 ms - 625[0m
[0mPOST /auth/register [32m201[0m 264.075 ms - 462[0m
[0mPATCH /auth/aprobar/691fd149344b3bbffce34109 [32m200[0m 130.023 ms - 451[0m
[0mPOST /auth/login [32m200[0m 184.525 ms - 666[0m
[0mPOST /auth/register [32m201[0m 252.005 ms - 469[0m
[0mPATCH /auth/aprobar/691fd14a344b3bbffce3410f [32m200[0m 138.851 ms - 458[0m
[0mPOST /auth/login [32m200[0m 181.994 ms - 673[0m
[0mPOST /auth/register [32m201[0m 282.329 ms - 458[0m
[0mPATCH /auth/aprobar/691fd14b344b3bbffce34115 [32m200[0m 142.536 ms - 447[0m
[0mPOST /auth/login [32m200[0m 193.136 ms - 659[0m
[0mPOST /auth/register [32m201[0m 256.089 ms - 465[0m
[0mPATCH /auth/aprobar/691fd14b344b3bbffce3411b [32m200[0m 134.886 ms - 454[0m
[0mPOST /auth/login [32m200[0m 182.849 ms - 666[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mSuperadmin puede eliminar asignacion de terceros
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 67.164 ms - 76[0m
[0mDELETE /assignments/undefined [33m400[0m 65.939 ms - 93[0m
[0mPOST /auth/login [32m200[0m 185.288 ms - 625[0m
[0mPOST /auth/register [32m201[0m 285.568 ms - 462[0m
[0mPATCH /auth/aprobar/691fd14d344b3bbffce3412a [32m200[0m 130.004 ms - 451[0m
[0mPOST /auth/login [32m200[0m 183.187 ms - 666[0m
[0mPOST /auth/register [32m201[0m 417.661 ms - 469[0m
[0mPATCH /auth/aprobar/691fd14d344b3bbffce34130 [32m200[0m 155.190 ms - 458[0m
[0mPOST /auth/login [32m200[0m 180.287 ms - 673[0m
[0mPOST /auth/register [32m201[0m 245.783 ms - 458[0m
[0mPATCH /auth/aprobar/691fd14e344b3bbffce34136 [32m200[0m 140.016 ms - 447[0m
[0mPOST /auth/login [32m200[0m 187.257 ms - 659[0m
[0mPOST /auth/register [32m201[0m 249.082 ms - 465[0m
[0mPATCH /auth/aprobar/691fd14f344b3bbffce3413c [32m200[0m 140.206 ms - 454[0m
[0mPOST /auth/login [32m200[0m 239.929 ms - 666[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mListado para profesor devuelve solo sus asignaciones
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 78.109 ms - 76[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mListado para profesor devuelve solo sus asignaciones
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 73.469 ms - 76[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mListado para profesor devuelve solo sus asignaciones
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 69.237 ms - 76[0m
[0mGET /assignments [32m200[0m 139.702 ms - 2[0m
[0mPOST /auth/login [32m200[0m 214.399 ms - 625[0m
[0mPOST /auth/register [32m201[0m 265.846 ms - 462[0m
[0mPATCH /auth/aprobar/691fd150344b3bbffce34150 [32m200[0m 137.666 ms - 451[0m
[0mPOST /auth/login [32m200[0m 212.845 ms - 666[0m
[0mPOST /auth/register [32m201[0m 403.710 ms - 469[0m
[0mPATCH /auth/aprobar/691fd151344b3bbffce34156 [32m200[0m 138.434 ms - 458[0m
[0mPOST /auth/login [32m200[0m 382.171 ms - 673[0m
[0mPOST /auth/register [32m201[0m 285.754 ms - 458[0m
[0mPATCH /auth/aprobar/691fd152344b3bbffce3415c [32m200[0m 135.280 ms - 447[0m
[0mPOST /auth/login [32m200[0m 183.868 ms - 659[0m
[0mPOST /auth/register [32m201[0m 262.002 ms - 465[0m
[0mPATCH /auth/aprobar/691fd153344b3bbffce34162 [32m200[0m 133.612 ms - 454[0m
[0mPOST /auth/login [32m200[0m 201.759 ms - 666[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mCampos extra se ignoran al crear una asignacion
[22m[39mâŒ Error en crearAsignacionController: Error: Assignment validation failed: cohorte: Path `cohorte` is required.
    at ValidationError.inspect [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\error\validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:850:19)[39m
[90m    at inspect (node:internal/util/inspect:387:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2366:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2228:10)[39m
[90m    at Console.value (node:internal/console/constructor:345:14)[39m
[90m    at Console.error (node:internal/console/constructor:412:61)[39m
    at crearAsignacionController [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mcontrollers\assignmentController.mjs:13:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  errors: {
    cohorte: ValidatorError: Path `cohorte` is required.
        at validate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1413:13[90m)[39m
        at SchemaNumber.SchemaType.doValidate [90m(C:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\schemaType.js:1397:7[90m)[39m
        at [90mC:\Users\Asus\Desktop\Gestion de turnos APP\[39mnode_modules\[4mmongoose[24m\lib\document.js:3111:18
    [90m    at processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'cohorte'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'Assignment validation failed'[39m
}

[0mPOST /assignments [31m500[0m 73.334 ms - 76[0m
 [31mâ¯[39m tests/assignment.test.mjs [2m([22m[2m9 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[33m 33994[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mAlumno no puede crear una asignacion [33m 3671[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mAsignacion con dueDate invalido devuelve 400 [33m 3485[2mms[22m[39m
[31m   [31mÃ—[31m Assignments[2m > [22mAsignacion valida conserva ownership del profesor creador[39m[33m 3353[2mms[22m[39m
[31m     â†’ expected 500 to be 201 // Object.is equality[39m
[31m   [31mÃ—[31m Assignments[2m > [22mProfesor ajeno no puede actualizar asignacion de otro profesor[39m[33m 3426[2mms[22m[39m
[31m     â†’ expected 400 to be 500 // Object.is equality[39m
[31m   [31mÃ—[31m Assignments[2m > [22mSuperadmin puede actualizar asignacion ajena[39m[33m 3527[2mms[22m[39m
[31m     â†’ expected 400 to be 200 // Object.is equality[39m
[31m   [31mÃ—[31m Assignments[2m > [22mProfesor ajeno no puede eliminar asignacion y la misma sigue disponible[39m[33m 3405[2mms[22m[39m
[31m     â†’ expected 400 to be 500 // Object.is equality[39m
[31m   [31mÃ—[31m Assignments[2m > [22mSuperadmin puede eliminar asignacion de terceros[39m[33m 3334[2mms[22m[39m
[31m     â†’ expected 400 to be 204 // Object.is equality[39m
[31m   [31mÃ—[31m Assignments[2m > [22mListado para profesor devuelve solo sus asignaciones[39m[33m 3794[2mms[22m[39m
[31m     â†’ expected +0 to be 1 // Object.is equality[39m
[31m   [31mÃ—[31m Assignments[2m > [22mCampos extra se ignoran al crear una asignacion[39m[33m 3709[2mms[22m[39m
[31m     â†’ expected 500 to be 201 // Object.is equality[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 7 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mAsignacion valida conserva ownership del profesor creador
[31m[1mAssertionError[22m: expected 500 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 500[39m

[36m [2mâ¯[22m tests/assignment.test.mjs:[2m67:24[22m[39m
    [90m 65| [39m    [35mconst[39m { res } [33m=[39m [35mawait[39m [34mcrearAsignacion[39m(context[33m.[39mprofesorOwner[33m.[39mtoken)[33m;[39m
    [90m 66| [39m
    [90m 67| [39m    [34mexpect[39m(res[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m 68| [39m    [34mexpect[39m(res[33m.[39mbody)[33m.[39m[34mtoMatchObject[39m({
    [90m 69| [39m      title[33m:[39m expect[33m.[39m[34many[39m([33mString[39m)[33m,[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/7]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mProfesor ajeno no puede actualizar asignacion de otro profesor
[31m[1mAssertionError[22m: expected 400 to be 500 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 500[39m
[31m+ 400[39m

[36m [2mâ¯[22m tests/assignment.test.mjs:[2m91:27[22m[39m
    [90m 89| [39m      })[33m;[39m
    [90m 90| [39m
    [90m 91| [39m    [34mexpect[39m(update[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m   | [39m                          [31m^[39m
    [90m 92| [39m    [34mexpect[39m(update[33m.[39mbody[33m.[39mmsg)[33m.[39m[34mtoContain[39m([32m"No autorizado"[39m)[33m;[39m
    [90m 93| [39m  })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/7]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mSuperadmin puede actualizar asignacion ajena
[31m[1mAssertionError[22m: expected 400 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 400[39m

[36m [2mâ¯[22m tests/assignment.test.mjs:[2m109:27[22m[39m
    [90m107| [39m      })[33m;[39m
    [90m108| [39m
    [90m109| [39m    [34mexpect[39m(update[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                          [31m^[39m
    [90m110| [39m    [34mexpect[39m(update[33m.[39mbody[33m.[39mtitle)[33m.[39m[34mtoBe[39m([32m"Actualizada por superadmin"[39m)[33m;[39m
    [90m111| [39m    [34mexpect[39m(update[33m.[39mbody[33m.[39mdescription)[33m.[39m[34mtoBe[39m([32m"Descripcion nueva"[39m)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/7]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mProfesor ajeno no puede eliminar asignacion y la misma sigue disponible
[31m[1mAssertionError[22m: expected 400 to be 500 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 500[39m
[31m+ 400[39m

[36m [2mâ¯[22m tests/assignment.test.mjs:[2m122:32[22m[39m
    [90m120| [39m      [33m.[39m[35mset[39m([32m"Authorization"[39m[33m,[39m [32m`Bearer [39m[36m${[39mcontext[33m.[39mprofesorAjeno[33m.[39mtoken[36m}[39m[32m`[39m)[33m;[39m
    [90m121| [39m
    [90m122| [39m    [34mexpect[39m(eliminacion[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m500[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m123| [39m    [34mexpect[39m(eliminacion[33m.[39mbody[33m.[39mmsg)[33m.[39m[34mtoContain[39m([32m"No autorizado"[39m)[33m;[39m
    [90m124| [39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m7 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (9)[39m
[2m   Start at [22m 23:40:46
[2m   Duration [22m 37.39s[2m (transform 539ms, setup 0ms, collect 2.00s, tests 33.99s, environment 0ms, prepare 496ms)[22m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/7]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mSuperadmin puede eliminar asignacion de terceros
[31m[1mAssertionError[22m: expected 400 to be 204 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 204[39m
[31m+ 400[39m

[36m [2mâ¯[22m tests/assignment.test.mjs:[2m141:32[22m[39m
    [90m139| [39m      [33m.[39m[35mset[39m([32m"Authorization"[39m[33m,[39m [32m`Bearer [39m[36m${[39mcontext[33m.[39msuperadmin[33m.[39mtoken[36m}[39m[32m`[39m)[33m;[39m
    [90m140| [39m
    [90m141| [39m    [34mexpect[39m(eliminacion[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m204[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m142| [39m
    [90m143| [39m    [35mconst[39m consulta [33m=[39m [35mawait[39m [34mrequest[39m(app)

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/7]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mListado para profesor devuelve solo sus asignaciones
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2mâ¯[22m tests/assignment.test.mjs:[2m162:28[22m[39m
    [90m160| [39m    [34mexpect[39m([33mArray[39m[33m.[39m[34misArray[39m(listadoOwner[33m.[39mbody))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m161| [39m    const creadores = new Set(listadoOwner.body.map((item) => String(iâ€¦
    [90m162| [39m    [34mexpect[39m(creadores[33m.[39msize)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m
    [90m   | [39m                           [31m^[39m
    [90m163| [39m    [34mexpect[39m(creadores[33m.[39m[34mhas[39m([33mString[39m(context[33m.[39mprofesorOwner[33m.[39mid)))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m164| [39m  })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/7]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mCampos extra se ignoran al crear una asignacion
[31m[1mAssertionError[22m: expected 500 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 500[39m

[36m [2mâ¯[22m tests/assignment.test.mjs:[2m180:24[22m[39m
    [90m178| [39m      })[33m;[39m
    [90m179| [39m
    [90m180| [39m    [34mexpect[39m(res[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m181| [39m    [34mexpect[39m(res[33m.[39mbody[33m.[39mcampoExtra)[33m.[39m[34mtoBeUndefined[39m()[33m;[39m
    [90m182| [39m  })[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/7]â¯[22m[39m

