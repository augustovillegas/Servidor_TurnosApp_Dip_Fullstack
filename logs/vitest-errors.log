
[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Asus/Desktop/Gestion de turnos APP[39m

[90mstdout[2m | tests/assignment.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (2) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/auth.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (2) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/assignment.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/auth.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/user.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (2) from .env -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/user.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/user.test.mjs[2m > [22m[2mUsers
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

[90mstdout[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

[90mstdout[2m | tests/auth.test.mjs[2m > [22m[2mAuth
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }

[90mstdout[2m | tests/auth.test.mjs[2m > [22m[2mAuth
[22m[39mâœ… Conectado a MongoDB

[90mstdout[2m | tests/user.test.mjs[2m > [22m[2mUsers
[22m[39mâœ… Conectado a MongoDB

[90mstdout[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments
[22m[39mâœ… Conectado a MongoDB

[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mCredenciales del seed permiten login y conservan datos de modulo
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[90mstderr[2m | tests/user.test.mjs[2m > [22m[2mUsers[2m > [22m[2mSuperadmin puede listar usuarios y los datos sensibles no se exponen
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mAlumno no puede crear una asignacion
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 465.517 ms - 550[0m
[0mPOST /auth/login [32m200[0m 469.909 ms - 550[0m
[0mPOST /auth/login [32m200[0m 546.083 ms - 550[0m
[90mstdout[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mCredenciales del seed permiten login y conservan datos de modulo
[22m[39m[DB] Limpiando colecciones...

[0mPOST /auth/register [32m201[0m 388.236 ms - 289[0m
[0mPOST /auth/register [32m201[0m 413.896 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e56b60f30a661fa3e4f [33m401[0m 72.536 ms - 65[0m
[0mPATCH /auth/aprobar/690a2e56b980eddb6864107c [33m401[0m 79.103 ms - 65[0m
[90mstdout[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mCredenciales del seed permiten login y conservan datos de modulo
[22m[39m[DB] Colecciones limpiadas.

[90mstderr[2m | tests/user.test.mjs[2m > [22m[2mUsers[2m > [22m[2mProfesor puede filtrar usuarios por rol
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mCredenciales del seed permiten login y conservan datos de modulo
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 299.890 ms - 550[0m
[0mPOST /auth/login [32m200[0m 312.963 ms - 550[0m
[0mPOST /auth/register [32m201[0m 375.059 ms - 289[0m
[0mPOST /auth/register [32m201[0m 384.522 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e58b980eddb68641086 [32m200[0m 142.955 ms - 278[0m
[0mPATCH /auth/aprobar/690a2e58b60f30a661fa3e59 [32m200[0m 155.344 ms - 278[0m
[0mPOST /auth/login [32m200[0m 317.982 ms - 493[0m
[0mPOST /auth/login [32m200[0m 296.599 ms - 493[0m
[0mPOST /auth/register [32m201[0m 372.916 ms - 289[0m
[0mPOST /auth/register [32m201[0m 391.720 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e59b980eddb6864108c [32m200[0m 129.428 ms - 278[0m
[0mPATCH /auth/aprobar/690a2e59b60f30a661fa3e5f [32m200[0m 139.025 ms - 278[0m
[0mPOST /auth/login [32m200[0m 294.081 ms - 493[0m
[0mPOST /auth/login [32m200[0m 311.373 ms - 493[0m
[0mPOST /auth/register [32m201[0m 371.315 ms - 285[0m
[0mPOST /auth/register [32m201[0m 348.115 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e59b980eddb68641092 [32m200[0m 132.440 ms - 274[0m
[0mPATCH /auth/aprobar/690a2e59b60f30a661fa3e65 [32m200[0m 132.039 ms - 274[0m
[0mPOST /auth/login [32m200[0m 404.956 ms - 486[0m
[0mPOST /auth/login [32m200[0m 416.723 ms - 486[0m
[0mPOST /auth/register [32m201[0m 376.473 ms - 285[0m
[0mPOST /auth/register [32m201[0m 372.332 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e5ab980eddb68641098 [32m200[0m 141.932 ms - 274[0m
[0mPATCH /auth/aprobar/690a2e5ab60f30a661fa3e6b [32m200[0m 138.420 ms - 274[0m
[0mPOST /auth/login [32m200[0m 303.776 ms - 486[0m
[0mPOST /auth/login [32m200[0m 304.655 ms - 486[0m
[0mPOST /assignments [33m400[0m 74.506 ms - 139[0m
[0mGET /auth/usuarios?role=alumno [32m200[0m 141.572 ms - 1468[0m
[90mstderr[2m | tests/user.test.mjs[2m > [22m[2mUsers[2m > [22m[2mAlumno recibe 403 al listar usuarios
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mAsignacion valida conserva ownership del profesor creador
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 289.915 ms - 550[0m
[0mPOST /auth/login [32m200[0m 303.468 ms - 550[0m
[0mPOST /auth/register [32m201[0m 360.931 ms - 289[0m
[0mPOST /auth/register [32m201[0m 379.266 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e5db980eddb686410a6 [32m200[0m 133.947 ms - 278[0m
[0mPATCH /auth/aprobar/690a2e5db60f30a661fa3e78 [32m200[0m 133.800 ms - 278[0m
[0mPOST /auth/login [32m200[0m 295.820 ms - 493[0m
[0mPOST /auth/login [32m200[0m 290.916 ms - 493[0m
[0mPOST /auth/register [32m201[0m 405.232 ms - 289[0m
[0mPOST /auth/register [32m201[0m 396.823 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e5eb980eddb686410ac [32m200[0m 150.867 ms - 278[0m
[0mPATCH /auth/aprobar/690a2e5eb60f30a661fa3e7e [32m200[0m 141.165 ms - 278[0m
[0mPOST /auth/login [32m200[0m 311.584 ms - 493[0m
[0mPOST /auth/login [32m200[0m 306.578 ms - 493[0m
[0mPOST /auth/register [32m201[0m 369.403 ms - 285[0m
[0mPOST /auth/register [32m201[0m 383.264 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e5eb980eddb686410b2 [32m200[0m 133.291 ms - 274[0m
[0mPATCH /auth/aprobar/690a2e5eb60f30a661fa3e84 [32m200[0m 136.373 ms - 274[0m
[0mPOST /auth/login [32m200[0m 303.580 ms - 486[0m
[0mPOST /auth/login [32m200[0m 300.229 ms - 486[0m
[0mPOST /auth/register [32m201[0m 377.867 ms - 285[0m
[0mPOST /auth/register [32m201[0m 399.470 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e5fb980eddb686410b8 [32m200[0m 147.293 ms - 274[0m
[0mPATCH /auth/aprobar/690a2e5fb60f30a661fa3e8a [32m200[0m 136.765 ms - 274[0m
[0mPOST /auth/login [32m200[0m 311.240 ms - 486[0m
[0mPOST /auth/login [32m200[0m 308.966 ms - 486[0m
[0mGET /auth/usuarios [33m403[0m 73.730 ms - 25[0m
[0mPOST /assignments [32m201[0m 141.857 ms - 298[0m
[90mstderr[2m | tests/user.test.mjs[2m > [22m[2mUsers[2m > [22m[2mSuperadmin aprueba un usuario pendiente
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mProfesor ajeno no puede actualizar asignacion de otro profesor
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 301.388 ms - 550[0m
[0mPOST /auth/login [32m200[0m 284.861 ms - 550[0m
[0mPOST /auth/register [32m201[0m 393.769 ms - 289[0m
[0mPOST /auth/register [32m201[0m 352.233 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e62b980eddb686410c5 [32m200[0m 145.742 ms - 278[0m
[0mPATCH /auth/aprobar/690a2e62b60f30a661fa3e99 [32m200[0m 124.590 ms - 279[0m
[0mPOST /auth/login [32m200[0m 295.515 ms - 493[0m
[0mPOST /auth/login [32m200[0m 296.189 ms - 494[0m
[0mPOST /auth/register [32m201[0m 377.938 ms - 290[0m
[0mPOST /auth/register [32m201[0m 381.744 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e63b980eddb686410cb [32m200[0m 131.519 ms - 279[0m
[0mPATCH /auth/aprobar/690a2e63b60f30a661fa3e9f [32m200[0m 132.576 ms - 279[0m
[0mPOST /auth/login [32m200[0m 330.663 ms - 494[0m
[0mPOST /auth/login [32m200[0m 311.067 ms - 494[0m
[0mPOST /auth/register [32m201[0m 369.281 ms - 286[0m
[0mPOST /auth/register [32m201[0m 386.136 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e64b60f30a661fa3ea5 [32m200[0m 124.698 ms - 275[0m
[0mPATCH /auth/aprobar/690a2e64b980eddb686410d1 [32m200[0m 131.998 ms - 275[0m
[0mPOST /auth/login [32m200[0m 334.561 ms - 487[0m
[0mPOST /auth/login [32m200[0m 328.510 ms - 487[0m
[0mPOST /auth/register [32m201[0m 377.230 ms - 286[0m
[0mPOST /auth/register [32m201[0m 400.987 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e64b60f30a661fa3eab [32m200[0m 127.940 ms - 275[0m
[0mPATCH /auth/aprobar/690a2e64b980eddb686410d7 [32m200[0m 126.586 ms - 275[0m
[0mPOST /auth/login [32m200[0m 311.800 ms - 487[0m
[0mPOST /auth/login [32m200[0m 306.313 ms - 487[0m
[0mPOST /assignments [32m201[0m 145.157 ms - 299[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mProfesor ajeno no puede actualizar asignacion de otro profesor
[22m[39mError: No autorizado a modificar esta asignaciÃ³n
Error: No autorizado a modificar esta asignaciÃ³n
    at Module.actualizarAsignacion (C:\Users\Asus\Desktop\Gestion de turnos APP\services\assignmentService.mjs:37:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at actualizarAsignacionController (C:\Users\Asus\Desktop\Gestion de turnos APP\controllers\assignmentController.mjs:39:24)

[0mPUT /assignments/690a2e65b60f30a661fa3eb1 [31m500[0m 140.447 ms - 107[0m
[0mPOST /auth/register [32m201[0m 353.812 ms - 304[0m
[0mPOST /auth/login [32m200[0m 300.994 ms - 510[0m
[0mPATCH /auth/aprobar/690a2e65b980eddb686410dd [32m200[0m 147.851 ms - 293[0m
 [31mâ¯[39m tests/user.test.mjs [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 21937[2mms[22m[39m
[31m   [31mÃ—[31m Users[2m > [22mSuperadmin puede listar usuarios y los datos sensibles no se exponen[39m[33m 2410[2mms[22m[39m
[31m     â†’ Fallo aprobacion de prof-owner: 401 {"message":"Usuario no encontrado","msg":"Usuario no encontrado"}[39m
   [33m[2mâœ“[22m[39m Users[2m > [22mProfesor puede filtrar usuarios por rol [33m 5142[2mms[22m[39m
   [33m[2mâœ“[22m[39m Users[2m > [22mAlumno recibe 403 al listar usuarios [33m 4889[2mms[22m[39m
   [33m[2mâœ“[22m[39m Users[2m > [22mSuperadmin aprueba un usuario pendiente [33m 5922[2mms[22m[39m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mSuperadmin puede actualizar asignacion ajena
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 281.813 ms - 550[0m
[0mPOST /auth/register [32m201[0m 382.812 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e67b60f30a661fa3ebc [32m200[0m 140.754 ms - 279[0m
[0mPOST /auth/login [32m200[0m 307.178 ms - 494[0m
[0mPOST /auth/register [32m201[0m 380.491 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e68b60f30a661fa3ec2 [32m200[0m 133.958 ms - 279[0m
[0mPOST /auth/login [32m200[0m 430.235 ms - 494[0m
[0mPOST /auth/register [32m201[0m 344.158 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e69b60f30a661fa3ec8 [32m200[0m 140.242 ms - 275[0m
[0mPOST /auth/login [32m200[0m 295.189 ms - 487[0m
[0mPOST /auth/register [32m201[0m 358.020 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e6ab60f30a661fa3ece [32m200[0m 129.492 ms - 275[0m
[0mPOST /auth/login [32m200[0m 280.723 ms - 487[0m
[0mPOST /assignments [32m201[0m 151.563 ms - 299[0m
[0mPUT /assignments/690a2e6ab60f30a661fa3ed4 [32m200[0m 208.534 ms - 289[0m
[90mstdout[2m | tests/submission.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (2) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

[90mstdout[2m | tests/submission.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }

[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mProfesor ajeno no puede eliminar asignacion y la misma sigue disponible
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 286.963 ms - 550[0m
[0mPOST /auth/register [32m201[0m 377.294 ms - 290[0m
[90mstdout[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com

[0mPATCH /auth/aprobar/690a2e6cb60f30a661fa3ee0 [32m200[0m 136.122 ms - 279[0m
[0mPOST /auth/login [32m200[0m 281.542 ms - 494[0m
[0mPOST /auth/register [32m201[0m 332.096 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e6db60f30a661fa3ee6 [32m200[0m 127.347 ms - 279[0m
[90mstdout[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions
[22m[39mâœ… Conectado a MongoDB

[0mPOST /auth/login [32m200[0m 316.795 ms - 494[0m
[0mPOST /auth/register [32m201[0m 364.467 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e6eb60f30a661fa3eec [32m200[0m 134.304 ms - 275[0m
[0mPOST /auth/login [32m200[0m 318.414 ms - 487[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mAlumno no puede entregar sin reservar turno previamente
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 2477.222 ms - 550[0m
[0mPOST /auth/login [32m200[0m 2475.403 ms - 582[0m
[0mPOST /auth/login [32m200[0m 2461.553 ms - 589[0m
[0mPOST /auth/login [32m200[0m 2450.406 ms - 578[0m
[0mPOST /auth/register [32m201[0m 363.356 ms - 286[0m
[0mPOST /auth/login [32m200[0m 2419.381 ms - 588[0m
[0mPOST /auth/login [32m200[0m 2418.769 ms - 585[0m
[0mPOST /auth/login [32m200[0m 2409.097 ms - 591[0m
[0mPOST /auth/login [32m200[0m 2412.730 ms - 582[0m
[0mPATCH /auth/aprobar/690a2e6fb60f30a661fa3ef2 [32m200[0m 137.067 ms - 275[0m
[0mPOST /auth/login [32m200[0m 2608.395 ms - 588[0m
[0mPOST /auth/login [32m200[0m 2611.691 ms - 594[0m
[0mPOST /auth/login [32m200[0m 462.139 ms - 550[0m
[0mPOST /auth/login [32m200[0m 265.097 ms - 487[0m
[0mPOST /assignments [32m201[0m 145.366 ms - 299[0m
[0mDELETE /assignments/690a2e6fb60f30a661fa3ef8 [31m500[0m 147.944 ms - 105[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mProfesor ajeno no puede eliminar asignacion y la misma sigue disponible
[22m[39mError: No autorizado a eliminar esta asignaciÃ³n
Error: No autorizado a eliminar esta asignaciÃ³n
    at Module.eliminarAsignacion (C:\Users\Asus\Desktop\Gestion de turnos APP\services\assignmentService.mjs:54:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at eliminarAsignacionController (C:\Users\Asus\Desktop\Gestion de turnos APP\controllers\assignmentController.mjs:48:5)

[0mPOST /auth/login [32m200[0m 3205.355 ms - 581[0m
[0mPOST /auth/register [32m201[0m 412.696 ms - 289[0m
[0mGET /assignments/690a2e6fb60f30a661fa3ef8 [32m200[0m 163.785 ms - 299[0m
[0mPATCH /auth/aprobar/690a2e6f5602e826f72f7121 [32m200[0m 168.711 ms - 278[0m
[0mPOST /auth/login [32m200[0m 3488.986 ms - 585[0m
[0mPOST /auth/login [32m200[0m 301.686 ms - 493[0m
[0mPOST /auth/register [32m201[0m 364.880 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e705602e826f72f7127 [32m200[0m 143.087 ms - 278[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mSuperadmin puede eliminar asignacion de terceros
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 298.923 ms - 493[0m
[0mPOST /auth/login [32m200[0m 292.810 ms - 550[0m
[0mPOST /auth/register [32m201[0m 361.403 ms - 285[0m
[0mPOST /auth/register [32m201[0m 365.267 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e715602e826f72f712d [32m200[0m 136.289 ms - 274[0m
[0mPATCH /auth/aprobar/690a2e71b60f30a661fa3f05 [32m200[0m 134.132 ms - 279[0m
[0mPOST /auth/login [32m200[0m 309.034 ms - 486[0m
[0mPOST /auth/login [32m200[0m 292.674 ms - 494[0m
[0mPOST /auth/login [32m200[0m 2229.005 ms - 585[0m
[0mPOST /auth/login [32m200[0m 2184.825 ms - 585[0m
[0mPOST /auth/register [32m201[0m 374.512 ms - 285[0m
[0mPOST /auth/register [32m201[0m 415.572 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e725602e826f72f7133 [32m200[0m 142.277 ms - 274[0m
[0mPATCH /auth/aprobar/690a2e72b60f30a661fa3f0b [32m200[0m 122.330 ms - 279[0m
[0mPOST /auth/login [32m200[0m 2555.278 ms - 594[0m
[0mPOST /auth/login [32m200[0m 2561.737 ms - 591[0m
[0mPOST /auth/login [32m200[0m 2560.687 ms - 588[0m
[0mPOST /auth/login [32m200[0m 2562.224 ms - 585[0m
[0mPOST /auth/login [32m200[0m 2561.462 ms - 588[0m
[0mPOST /auth/login [32m200[0m 2537.791 ms - 585[0m
[0mPOST /auth/login [32m200[0m 2539.429 ms - 590[0m
[0mPOST /auth/login [32m200[0m 2539.077 ms - 588[0m
[0mPOST /auth/login [32m200[0m 278.580 ms - 486[0m
[0mPOST /auth/login [32m200[0m 271.026 ms - 494[0m
[0mPOST /assignments [32m201[0m 138.348 ms - 298[0m
[0mPOST /auth/login [32m200[0m 3103.936 ms - 582[0m
[0mPOST /auth/register [32m201[0m 349.959 ms - 286[0m
[0mPOST /auth/login [32m200[0m 3217.866 ms - 585[0m
[0mPOST /slots [32m201[0m 316.580 ms - 549[0m
[0mPATCH /auth/aprobar/690a2e73b60f30a661fa3f11 [32m200[0m 127.403 ms - 275[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mAlumno no puede entregar sin reservar turno previamente
[22m[39mError: Debes reservar el turno antes de entregar

[0mPOST /submissions/690a2e735602e826f72f713c [33m403[0m 144.661 ms - 105[0m
[0mPOST /auth/login [32m200[0m 288.709 ms - 487[0m
[0mPOST /auth/register [32m201[0m 366.505 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e74b60f30a661fa3f17 [32m200[0m 126.229 ms - 275[0m
[0mPOST /auth/login [32m200[0m 290.393 ms - 487[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mEntrega rechaza links que no son de GitHub
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /assignments [32m201[0m 136.796 ms - 299[0m
[0mPOST /auth/login [32m200[0m 301.643 ms - 550[0m
[0mDELETE /assignments/690a2e74b60f30a661fa3f1d [32m204[0m 206.050 ms - -[0m
[0mGET /assignments/690a2e74b60f30a661fa3f1d [33m404[0m 116.794 ms - 35[0m
[0mPOST /auth/register [32m201[0m 419.063 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e755602e826f72f7149 [32m200[0m 143.213 ms - 278[0m
[0mPOST /auth/login [32m200[0m 314.804 ms - 493[0m
[0mPOST /auth/login [32m200[0m 2508.787 ms - 593[0m
[0mPOST /auth/login [32m200[0m 2502.112 ms - 579[0m
[0mPOST /auth/login [32m200[0m 2507.748 ms - 582[0m
[0mPOST /auth/login [32m200[0m 2506.005 ms - 579[0m
[0mPOST /auth/login [32m200[0m 2465.451 ms - 576[0m
[0mPOST /auth/login [32m200[0m 2457.747 ms - 590[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mListado para profesor devuelve solo sus asignaciones
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 2683.130 ms - 576[0m
[0mPOST /auth/login [32m200[0m 2689.559 ms - 591[0m
[0mPOST /auth/login [32m200[0m 2682.311 ms - 582[0m
[0mPOST /auth/login [32m200[0m 2683.569 ms - 588[0m
[0mPOST /auth/register [32m201[0m 354.915 ms - 289[0m
[0mPATCH /auth/aprobar/690a2e765602e826f72f714f [32m200[0m 145.346 ms - 278[0m
[0mPOST /auth/login [32m200[0m 288.790 ms - 550[0m
[0mPOST /auth/login [32m200[0m 303.205 ms - 493[0m
[0mPOST /auth/register [32m201[0m 362.869 ms - 290[0m
[0mPOST /auth/login [32m200[0m 3371.489 ms - 573[0m
[0mPOST /auth/login [32m200[0m 3484.038 ms - 585[0m
[0mPATCH /auth/aprobar/690a2e77b60f30a661fa3f2b [32m200[0m 149.019 ms - 279[0m
[0mPOST /auth/register [32m201[0m 475.345 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e775602e826f72f7155 [32m200[0m 130.947 ms - 274[0m
[0mPOST /auth/login [32m200[0m 300.050 ms - 494[0m
[0mPOST /auth/login [32m200[0m 301.111 ms - 486[0m
[0mPOST /auth/register [32m201[0m 379.412 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e77b60f30a661fa3f31 [32m200[0m 129.123 ms - 279[0m
[0mPOST /auth/register [32m201[0m 417.824 ms - 285[0m
[0mPOST /auth/login [32m200[0m 263.576 ms - 494[0m
[0mPATCH /auth/aprobar/690a2e785602e826f72f715b [32m200[0m 128.668 ms - 274[0m
[0mPOST /auth/login [32m200[0m 285.902 ms - 486[0m
[0mPOST /auth/register [32m201[0m 368.124 ms - 286[0m
[0mPOST /assignments [32m201[0m 140.598 ms - 299[0m
[0mPATCH /auth/aprobar/690a2e78b60f30a661fa3f37 [32m200[0m 131.680 ms - 275[0m
[0mPOST /auth/login [32m200[0m 274.272 ms - 487[0m
[0mPOST /slots [32m201[0m 297.186 ms - 550[0m
[0mPATCH /slots/690a2e785602e826f72f7164/solicitar [32m200[0m 301.478 ms - 572[0m
[0mPOST /auth/register [32m201[0m 349.712 ms - 286[0m
[0mPOST /submissions/690a2e785602e826f72f7164 [33m400[0m 88.132 ms - 133[0m
[0mPOST /auth/login [32m200[0m 2213.314 ms - 588[0m
[0mPOST /auth/login [32m200[0m 2251.970 ms - 577[0m
[0mPATCH /auth/aprobar/690a2e79b60f30a661fa3f3d [32m200[0m 170.700 ms - 275[0m
[0mPOST /auth/login [32m200[0m 2346.993 ms - 588[0m
[0mPOST /auth/login [32m200[0m 2350.948 ms - 582[0m
[0mPOST /auth/login [32m200[0m 2350.426 ms - 584[0m
[0mPOST /auth/login [32m200[0m 2348.895 ms - 575[0m
[0mPOST /auth/login [32m200[0m 2353.719 ms - 570[0m
[0mPOST /auth/login [32m200[0m 2367.846 ms - 579[0m
[0mPOST /auth/login [32m200[0m 2378.177 ms - 582[0m
[0mPOST /auth/login [32m200[0m 2376.432 ms - 573[0m
[0mPOST /auth/login [32m200[0m 288.907 ms - 487[0m
[0mPOST /assignments [32m201[0m 145.065 ms - 279[0m
[0mPOST /assignments [32m201[0m 143.187 ms - 279[0m
[0mPOST /auth/login [32m200[0m 2919.620 ms - 573[0m
[0mPOST /assignments [32m201[0m 136.125 ms - 283[0m
[0mPOST /auth/login [32m200[0m 3076.117 ms - 582[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mEntrega valida queda en estado 'A revisar' tras reservar correctamente
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mGET /assignments [32m200[0m 135.288 ms - 561[0m
[0mPOST /auth/login [32m200[0m 300.661 ms - 550[0m
[0mPOST /auth/register [32m201[0m 328.723 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e7b5602e826f72f7174 [32m200[0m 131.138 ms - 279[0m
[90mstderr[2m | tests/assignment.test.mjs[2m > [22m[2mAssignments[2m > [22m[2mCampos extra se ignoran al crear una asignacion
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 330.430 ms - 494[0m
[0mPOST /auth/login [32m200[0m 291.486 ms - 550[0m
[0mPOST /auth/register [32m201[0m 364.366 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e7c5602e826f72f717a [32m200[0m 148.642 ms - 279[0m
[0mPOST /auth/register [32m201[0m 374.137 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e7cb60f30a661fa3f54 [32m200[0m 146.218 ms - 279[0m
[0mPOST /auth/login [32m200[0m 309.598 ms - 494[0m
[0mPOST /auth/login [32m200[0m 319.749 ms - 494[0m
[0mPOST /auth/register [32m201[0m 371.233 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e7c5602e826f72f7180 [32m200[0m 134.472 ms - 275[0m
[0mPOST /auth/register [32m201[0m 368.505 ms - 290[0m
[0mPOST /auth/login [32m200[0m 2735.637 ms - 568[0m
[0mPOST /auth/login [32m200[0m 2738.426 ms - 577[0m
[0mPOST /auth/login [32m200[0m 2734.920 ms - 580[0m
[0mPATCH /auth/aprobar/690a2e7db60f30a661fa3f5a [32m200[0m 131.343 ms - 279[0m
[0mPOST /auth/login [32m200[0m 262.035 ms - 487[0m
[0mPOST /auth/login [32m200[0m 311.795 ms - 494[0m
[0mPOST /auth/register [32m201[0m 400.668 ms - 286[0m
[0mPOST /auth/login [32m200[0m 3234.308 ms - 574[0m
[0mPOST /auth/login [32m200[0m 3225.620 ms - 574[0m
[0mPOST /auth/login [32m200[0m 3225.647 ms - 577[0m
[0mPOST /auth/login [32m200[0m 3225.231 ms - 571[0m
[0mPOST /auth/login [32m200[0m 3218.934 ms - 571[0m
[0mPOST /auth/login [32m200[0m 3214.301 ms - 571[0m
[0mPOST /auth/login [32m200[0m 3212.828 ms - 574[0m
[0mPOST /auth/login [32m200[0m 3204.132 ms - 577[0m
[0mPOST /auth/login [32m200[0m 3201.469 ms - 571[0m
[0mPATCH /auth/aprobar/690a2e7d5602e826f72f7186 [32m200[0m 134.894 ms - 275[0m
[0mPOST /auth/register [32m201[0m 358.850 ms - 286[0m
[0mPOST /auth/login [32m200[0m 241.625 ms - 487[0m
[0mPATCH /auth/aprobar/690a2e7db60f30a661fa3f60 [32m200[0m 127.237 ms - 275[0m
[0mPOST /assignments [32m201[0m 148.575 ms - 299[0m
[0mPOST /auth/login [32m200[0m 345.035 ms - 487[0m
[0mPOST /slots [32m201[0m 292.121 ms - 550[0m
[0mPATCH /slots/690a2e7e5602e826f72f718f/solicitar [32m200[0m 266.796 ms - 572[0m
[0mPOST /auth/register [32m201[0m 426.259 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e7eb60f30a661fa3f66 [32m200[0m 128.383 ms - 275[0m
[0mPOST /submissions/690a2e7e5602e826f72f718f [32m201[0m 219.863 ms - 394[0m
[0mPOST /auth/login [32m200[0m 303.810 ms - 487[0m
[0mPOST /assignments [32m201[0m 137.701 ms - 284[0m
 [31mâ¯[39m tests/assignment.test.mjs [2m([22m[2m9 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 47399[2mms[22m[39m
[31m   [31mÃ—[31m Assignments[2m > [22mAlumno no puede crear una asignacion[39m[33m 2362[2mms[22m[39m
[31m     â†’ Fallo aprobacion de prof-owner: 401 {"message":"Usuario no encontrado","msg":"Usuario no encontrado"}[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mAsignacion con dueDate invalido devuelve 400 [33m 5165[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mAsignacion valida conserva ownership del profesor creador [33m 5009[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mProfesor ajeno no puede actualizar asignacion de otro profesor [33m 5258[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mSuperadmin puede actualizar asignacion ajena [33m 5219[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mProfesor ajeno no puede eliminar asignacion y la misma sigue disponible [33m 5155[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mSuperadmin puede eliminar asignacion de terceros [33m 5160[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mListado para profesor devuelve solo sus asignaciones [33m 5308[2mms[22m[39m
   [33m[2mâœ“[22m[39m Assignments[2m > [22mCampos extra se ignoran al crear una asignacion [33m 4981[2mms[22m[39m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mAlumno no puede ver entregas de otro alumno
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 295.459 ms - 550[0m
[0mPOST /auth/login [32m200[0m 2615.471 ms - 571[0m
[0mPOST /auth/register [32m201[0m 403.865 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e805602e826f72f71a2 [32m200[0m 131.403 ms - 279[0m
[0mPOST /auth/login [32m200[0m 3239.144 ms - 571[0m
[0mPOST /auth/login [32m200[0m 3237.208 ms - 565[0m
[0mPOST /auth/login [32m200[0m 3275.554 ms - 574[0m
[0mPOST /auth/login [32m200[0m 3272.743 ms - 576[0m
[0mPOST /auth/login [32m200[0m 3273.807 ms - 584[0m
[0mPOST /auth/login [32m200[0m 3270.711 ms - 579[0m
[0mPOST /auth/login [32m200[0m 3270.076 ms - 579[0m
[0mPOST /auth/login [32m200[0m 3265.169 ms - 588[0m
[0mPOST /auth/login [32m200[0m 3265.890 ms - 579[0m
[0mPOST /auth/login [32m200[0m 3265.971 ms - 576[0m
[0mPOST /auth/login [32m200[0m 262.798 ms - 494[0m
[0mPOST /auth/login [32m200[0m 3376.520 ms - 577[0m
[0mPOST /auth/register [32m201[0m 379.362 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e815602e826f72f71a8 [32m200[0m 128.662 ms - 279[0m
[0mPOST /auth/login [32m200[0m 291.423 ms - 494[0m
[0mPOST /auth/register [32m201[0m 442.233 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e825602e826f72f71ae [32m200[0m 131.642 ms - 275[0m
[0mPOST /auth/login [32m200[0m 318.920 ms - 487[0m
[0mPOST /auth/register [32m201[0m 389.635 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e835602e826f72f71b4 [32m200[0m 129.544 ms - 275[0m
[0mPOST /auth/login [32m200[0m 308.573 ms - 487[0m
[0mPOST /assignments [32m201[0m 136.387 ms - 299[0m
[0mPOST /auth/login [32m200[0m 2715.572 ms - 582[0m
[0mPOST /auth/login [32m200[0m 2725.467 ms - 588[0m
[90mstdout[2m | tests/slot.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (2) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

[0mPOST /slots [32m201[0m 275.499 ms - 550[0m
[90mstdout[2m | tests/slot.test.mjs
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }

[0mPATCH /slots/690a2e845602e826f72f71bd/solicitar [32m200[0m 273.579 ms - 572[0m
[0mPOST /auth/login [32m200[0m 3304.229 ms - 585[0m
[0mPOST /auth/login [32m200[0m 3300.788 ms - 582[0m
[0mPOST /auth/login [32m200[0m 3303.985 ms - 579[0m
[0mPOST /auth/login [32m200[0m 3322.621 ms - 573[0m
[0mPOST /auth/login [32m200[0m 3317.450 ms - 585[0m
[0mPOST /auth/login [32m200[0m 3321.273 ms - 588[0m
[0mPOST /auth/login [32m200[0m 3321.368 ms - 585[0m
[0mPOST /auth/login [32m200[0m 3321.546 ms - 597[0m
[0mPOST /auth/login [32m200[0m 3323.327 ms - 576[0m
[0mPOST /submissions/690a2e845602e826f72f71bd [32m201[0m 206.901 ms - 379[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mAlumno no puede ver entregas de otro alumno
[22m[39mError: No autorizado a consultar entregas de otro alumno

[0mGET /submissions/690a2e825602e826f72f71ae [33m403[0m 64.790 ms - 121[0m
[0mPOST /auth/login [32m200[0m 3534.162 ms - 579[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mAlumno no puede editar entrega de otro estudiante
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[90mstdout[2m | tests/slot.test.mjs[2m > [22m[2mSlots
[22m[39m[dotenv@17.2.2] injecting env (0) from .env -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit

[0mPOST /auth/login [32m200[0m 442.537 ms - 550[0m
[0mPOST /auth/login [32m200[0m 1418.815 ms - 582[0m
[0mPOST /auth/login [32m200[0m 1414.282 ms - 585[0m
[0mPOST /auth/login [32m200[0m 1408.539 ms - 587[0m
[0mPOST /auth/login [32m200[0m 1417.857 ms - 572[0m
[0mPOST /auth/register [32m201[0m 346.091 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e865602e826f72f71d1 [32m200[0m 134.392 ms - 279[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mRegistro de alumno valido deja pendiente la aprobacion
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mGET /auth/usuarios [32m200[0m 376.136 ms - 50314[0m
[0mPOST /auth/login [32m200[0m 368.055 ms - 494[0m
[90mstdout[2m | tests/slot.test.mjs[2m > [22m[2mSlots
[22m[39mâœ… Conectado a MongoDB

[0mPOST /auth/login [32m200[0m 442.271 ms - 550[0m
[0mPOST /auth/register [32m201[0m 411.501 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e875602e826f72f71d7 [32m200[0m 140.040 ms - 279[0m
[0mPOST /auth/register [32m201[0m 500.727 ms - 274[0m
[0mPOST /auth/login [32m200[0m 335.624 ms - 494[0m
[0mPOST /auth/register [32m201[0m 393.272 ms - 286[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mAlumno de otra cohorte no puede reservar un turno
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPATCH /auth/aprobar/690a2e885602e826f72f71dd [32m200[0m 143.342 ms - 275[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mRegistro duplicado responde error de email ya registrado
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 317.242 ms - 487[0m
[0mPOST /auth/login [32m200[0m 456.429 ms - 550[0m
[0mPOST /auth/login [32m200[0m 289.085 ms - 550[0m
[0mPOST /auth/register [32m201[0m 353.891 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e895602e826f72f71e3 [32m200[0m 128.771 ms - 275[0m
[0mPOST /auth/register [32m201[0m 339.371 ms - 274[0m
[0mPOST /auth/register [32m201[0m 409.134 ms - 289[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mRegistro duplicado responde error de email ya registrado
[22m[39mError: Email ya registrado

[0mPOST /auth/register [33m409[0m 65.216 ms - 61[0m
[0mPOST /auth/login [32m200[0m 259.295 ms - 487[0m
[0mPATCH /auth/aprobar/690a2e896617de31a0be6e32 [32m200[0m 167.514 ms - 278[0m
[0mPOST /assignments [32m201[0m 138.796 ms - 299[0m
[0mPOST /auth/login [32m200[0m 316.991 ms - 493[0m
[0mPOST /slots [32m201[0m 280.742 ms - 550[0m
[0mPOST /auth/register [32m201[0m 345.580 ms - 289[0m
[0mPATCH /slots/690a2e8a5602e826f72f71ec/solicitar [32m200[0m 301.617 ms - 572[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mLogin exitoso no expone passwordHash
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPATCH /auth/aprobar/690a2e8a6617de31a0be6e38 [32m200[0m 129.839 ms - 278[0m
[0mPOST /submissions/690a2e8a5602e826f72f71ec [32m201[0m 189.574 ms - 379[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mAlumno no puede editar entrega de otro estudiante
[22m[39mError: No autorizado a modificar esta entrega

[0mPUT /submissions/690a2e8a5602e826f72f71f6 [33m403[0m 141.686 ms - 99[0m
[0mPOST /auth/login [32m200[0m 349.385 ms - 550[0m
[0mPOST /auth/login [32m200[0m 321.038 ms - 493[0m
[0mPOST /auth/register [32m201[0m 391.454 ms - 273[0m
[0mPOST /auth/register [32m201[0m 391.756 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e8b6617de31a0be6e3e [32m200[0m 132.082 ms - 274[0m
[0mPOST /auth/login [32m200[0m 291.339 ms - 476[0m
[0mPOST /auth/login [32m200[0m 317.955 ms - 486[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mSuperadmin puede consultar entregas de cualquier alumno
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 303.748 ms - 550[0m
[0mPOST /auth/register [32m201[0m 398.914 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e8c6617de31a0be6e44 [32m200[0m 139.546 ms - 274[0m
[0mPOST /auth/register [32m201[0m 365.667 ms - 290[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mLogin con contrasena incorrecta devuelve error
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 285.543 ms - 486[0m
[0mPATCH /auth/aprobar/690a2e8c5602e826f72f7201 [32m200[0m 136.676 ms - 279[0m
[0mPOST /assignments [32m201[0m 184.449 ms - 298[0m
[0mPOST /auth/login [32m200[0m 393.580 ms - 550[0m
[0mPOST /auth/login [32m200[0m 399.035 ms - 494[0m
[0mPOST /slots [32m201[0m 326.973 ms - 549[0m
[0mPOST /auth/register [32m201[0m 358.322 ms - 272[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mAlumno de otra cohorte no puede reservar un turno
[22m[39mError: Cohorte no coincide

[0mPATCH /slots/690a2e8d6617de31a0be6e4d/solicitar [33m403[0m 218.289 ms - 61[0m
[0mPOST /auth/register [32m201[0m 359.342 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e8d5602e826f72f7207 [32m200[0m 137.948 ms - 279[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mLogin con contrasena incorrecta devuelve error
[22m[39mError: Credenciales invalidas

[0mPOST /auth/login [33m401[0m 268.708 ms - 69[0m
[0mPOST /auth/login [32m200[0m 307.541 ms - 494[0m
[0mPOST /auth/register [32m201[0m 395.430 ms - 286[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mAlumno sin aprobacion no puede solicitar turno
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPATCH /auth/aprobar/690a2e8e5602e826f72f720d [32m200[0m 128.402 ms - 275[0m
[0mPOST /auth/login [32m200[0m 299.544 ms - 550[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mSuperadmin aprueba profesor y queda visible en el listado
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 296.268 ms - 487[0m
[0mPOST /auth/login [32m200[0m 310.459 ms - 550[0m
[0mPOST /auth/register [32m201[0m 401.371 ms - 289[0m
[0mPOST /auth/register [32m201[0m 390.404 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e8f6617de31a0be6e5b [32m200[0m 127.946 ms - 278[0m
[0mPATCH /auth/aprobar/690a2e8f5602e826f72f7213 [32m200[0m 127.510 ms - 275[0m
[0mPOST /auth/register [32m201[0m 346.753 ms - 293[0m
[0mPOST /auth/login [32m200[0m 317.225 ms - 493[0m
[0mPOST /auth/login [32m200[0m 305.561 ms - 487[0m
[0mPOST /auth/login [32m200[0m 262.560 ms - 499[0m
[0mPOST /assignments [32m201[0m 137.306 ms - 299[0m
[0mPATCH /auth/aprobar/690a2e8fa72af87d252ee5fb [32m200[0m 162.221 ms - 282[0m
[0mPOST /auth/register [32m201[0m 339.012 ms - 289[0m
[0mPOST /slots [32m201[0m 271.185 ms - 550[0m
[0mPATCH /auth/aprobar/690a2e906617de31a0be6e61 [32m200[0m 142.087 ms - 278[0m
[0mGET /auth/usuarios [32m200[0m 347.091 ms - 55268[0m
[0mPATCH /slots/690a2e905602e826f72f721c/solicitar [32m200[0m 253.301 ms - 572[0m
[0mPOST /auth/login [32m200[0m 267.428 ms - 493[0m
[0mPOST /submissions/690a2e905602e826f72f721c [32m201[0m 197.878 ms - 379[0m
[0mGET /submissions/690a2e8e5602e826f72f720d [32m200[0m 130.906 ms - 381[0m
[0mPOST /auth/register [32m201[0m 328.832 ms - 285[0m
[0mPATCH /auth/aprobar/690a2e906617de31a0be6e67 [32m200[0m 146.013 ms - 274[0m
[90mstderr[2m | tests/auth.test.mjs[2m > [22m[2mAuth[2m > [22m[2mAlumno no autorizado recibe 403 al listar usuarios
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 304.540 ms - 486[0m
[0mPOST /auth/login [32m200[0m 287.470 ms - 550[0m
[0mPOST /auth/register [32m201[0m 426.034 ms - 285[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mProfesor creador puede aprobar una entrega y el alumno ya no puede modificarla
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPATCH /auth/aprobar/690a2e916617de31a0be6e6d [32m200[0m 145.981 ms - 274[0m
[0mPOST /auth/register [32m201[0m 385.503 ms - 287[0m
[0mPOST /auth/login [32m200[0m 324.895 ms - 550[0m
[0mPATCH /auth/aprobar/690a2e92a72af87d252ee609 [32m200[0m 134.766 ms - 276[0m
[0mPOST /auth/login [32m200[0m 313.408 ms - 486[0m
[0mPOST /auth/login [32m200[0m 292.456 ms - 488[0m
[0mPOST /auth/register [32m201[0m 375.646 ms - 290[0m
[0mGET /auth/usuarios [33m403[0m 72.530 ms - 25[0m
 [31mâ¯[39m tests/auth.test.mjs [2m([22m[2m7 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 66554[2mms[22m[39m
[31m   [31mÃ—[31m Auth[2m > [22mCredenciales del seed permiten login y conservan datos de modulo[39m[33m 48284[2mms[22m[39m
[31m     â†’ Test timed out in 45000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
   [33m[2mâœ“[22m[39m Auth[2m > [22mRegistro de alumno valido deja pendiente la aprobacion [33m 3930[2mms[22m[39m
   [33m[2mâœ“[22m[39m Auth[2m > [22mRegistro duplicado responde error de email ya registrado [33m 1728[2mms[22m[39m
   [33m[2mâœ“[22m[39m Auth[2m > [22mLogin exitoso no expone passwordHash [33m 1998[2mms[22m[39m
   [33m[2mâœ“[22m[39m Auth[2m > [22mLogin con contrasena incorrecta devuelve error [33m 2106[2mms[22m[39m
   [33m[2mâœ“[22m[39m Auth[2m > [22mSuperadmin aprueba profesor y queda visible en el listado [33m 2578[2mms[22m[39m
   [33m[2mâœ“[22m[39m Auth[2m > [22mAlumno no autorizado recibe 403 al listar usuarios [33m 2184[2mms[22m[39m
[0mPOST /auth/register [32m201[0m 375.316 ms - 303[0m
[0mPATCH /auth/aprobar/690a2e925602e826f72f7231 [32m200[0m 127.836 ms - 279[0m
[0mPOST /auth/login [32m200[0m 305.809 ms - 506[0m
[0mPOST /auth/login [32m200[0m 323.637 ms - 494[0m
[0mPOST /assignments [32m201[0m 146.892 ms - 299[0m
[0mPOST /auth/register [32m201[0m 353.646 ms - 290[0m
[0mPOST /slots [32m201[0m 281.256 ms - 550[0m
[0mPATCH /slots/690a2e936617de31a0be6e7a/solicitar [33m403[0m 78.909 ms - 69[0m
[0mPATCH /auth/aprobar/690a2e935602e826f72f7237 [32m200[0m 135.444 ms - 279[0m
[0mPOST /auth/login [32m200[0m 335.654 ms - 494[0m
[0mPOST /auth/register [32m201[0m 319.148 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e945602e826f72f723d [32m200[0m 132.897 ms - 275[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mProfesor actualiza estado del turno entre aprobado y pendiente
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 242.769 ms - 487[0m
[0mPOST /auth/login [32m200[0m 261.786 ms - 550[0m
[0mPOST /auth/register [32m201[0m 331.966 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e955602e826f72f7243 [32m200[0m 129.277 ms - 275[0m
[0mPOST /auth/register [32m201[0m 299.167 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e956617de31a0be6e86 [32m200[0m 142.465 ms - 279[0m
[0mPOST /auth/login [32m200[0m 256.559 ms - 487[0m
[0mPOST /assignments [32m201[0m 130.758 ms - 299[0m
[0mPOST /auth/login [32m200[0m 232.680 ms - 494[0m
[0mPOST /slots [32m201[0m 273.880 ms - 550[0m
[0mPOST /auth/register [32m201[0m 331.475 ms - 290[0m
[0mPATCH /slots/690a2e955602e826f72f724c/solicitar [32m200[0m 250.689 ms - 572[0m
[0mPATCH /auth/aprobar/690a2e956617de31a0be6e8c [32m200[0m 143.055 ms - 279[0m
[0mPOST /submissions/690a2e955602e826f72f724c [32m201[0m 188.675 ms - 379[0m
[0mPOST /auth/login [32m200[0m 228.897 ms - 494[0m
[0mPUT /submissions/690a2e965602e826f72f7256 [32m200[0m 195.153 ms - 377[0m
[90mstderr[2m | tests/submission.test.mjs[2m > [22m[2mSubmissions[2m > [22m[2mProfesor creador puede aprobar una entrega y el alumno ya no puede modificarla
[22m[39mError: No se puede modificar una entrega ya evaluada

[0mPUT /submissions/690a2e965602e826f72f7256 [33m409[0m 122.683 ms - 113[0m
[0mPOST /auth/register [32m201[0m 364.454 ms - 286[0m
 [32mâœ“[39m tests/submission.test.mjs [2m([22m[2m7 tests[22m[2m)[22m[33m 43684[2mms[22m[39m
   [33m[2mâœ“[22m[39m Submissions[2m > [22mAlumno no puede entregar sin reservar turno previamente [33m 5899[2mms[22m[39m
   [33m[2mâœ“[22m[39m Submissions[2m > [22mEntrega rechaza links que no son de GitHub [33m 5799[2mms[22m[39m
   [33m[2mâœ“[22m[39m Submissions[2m > [22mEntrega valida queda en estado 'A revisar' tras reservar correctamente [33m 5563[2mms[22m[39m
   [33m[2mâœ“[22m[39m Submissions[2m > [22mAlumno no puede ver entregas de otro alumno [33m 5855[2mms[22m[39m
   [33m[2mâœ“[22m[39m Submissions[2m > [22mAlumno no puede editar entrega de otro estudiante [33m 6059[2mms[22m[39m
   [33m[2mâœ“[22m[39m Submissions[2m > [22mSuperadmin puede consultar entregas de cualquier alumno [33m 5918[2mms[22m[39m
   [33m[2mâœ“[22m[39m Submissions[2m > [22mProfesor creador puede aprobar una entrega y el alumno ya no puede modificarla [33m 5767[2mms[22m[39m
[0mPATCH /auth/aprobar/690a2e966617de31a0be6e92 [32m200[0m 132.680 ms - 275[0m
[0mPOST /auth/login [32m200[0m 298.227 ms - 487[0m
[0mPOST /auth/register [32m201[0m 345.123 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e976617de31a0be6e98 [32m200[0m 127.459 ms - 275[0m
[0mPOST /auth/login [32m200[0m 227.481 ms - 487[0m
[0mPOST /assignments [32m201[0m 148.324 ms - 299[0m
[0mPOST /slots [32m201[0m 252.649 ms - 550[0m
[0mPATCH /slots/690a2e986617de31a0be6ea1/estado [32m200[0m 250.309 ms - 549[0m
[0mPATCH /slots/690a2e986617de31a0be6ea1/estado [32m200[0m 265.723 ms - 550[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mAlumno no autorizado no puede cambiar estado de turno
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 335.621 ms - 550[0m
[0mPOST /auth/register [32m201[0m 322.429 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e9a6617de31a0be6eb4 [32m200[0m 130.493 ms - 279[0m
[0mPOST /auth/login [32m200[0m 241.837 ms - 494[0m
[0mPOST /auth/register [32m201[0m 287.250 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e9b6617de31a0be6eba [32m200[0m 131.307 ms - 279[0m
[0mPOST /auth/login [32m200[0m 247.863 ms - 494[0m
[0mPOST /auth/register [32m201[0m 294.906 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e9b6617de31a0be6ec0 [32m200[0m 131.890 ms - 275[0m
[0mPOST /auth/login [32m200[0m 225.703 ms - 487[0m
[0mPOST /auth/register [32m201[0m 284.909 ms - 286[0m
[0mPATCH /auth/aprobar/690a2e9c6617de31a0be6ec6 [32m200[0m 134.184 ms - 275[0m
[0mPOST /auth/login [32m200[0m 221.097 ms - 487[0m
[0mPOST /assignments [32m201[0m 136.205 ms - 299[0m
[0mPOST /slots [32m201[0m 266.004 ms - 550[0m
[0mPATCH /slots/690a2e9d6617de31a0be6ecf/estado [33m403[0m 81.227 ms - 25[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mEstado invalido al actualizar turno responde 400
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 235.828 ms - 550[0m
[0mPOST /auth/register [32m201[0m 314.668 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e9e6617de31a0be6edb [32m200[0m 129.211 ms - 279[0m
[0mPOST /auth/login [32m200[0m 258.008 ms - 494[0m
[0mPOST /auth/register [32m201[0m 345.888 ms - 290[0m
[0mPATCH /auth/aprobar/690a2e9f6617de31a0be6ee1 [32m200[0m 133.458 ms - 279[0m
[0mPOST /auth/login [32m200[0m 256.078 ms - 494[0m
[0mPOST /auth/register [32m201[0m 310.462 ms - 286[0m
[0mPATCH /auth/aprobar/690a2ea06617de31a0be6ee7 [32m200[0m 139.148 ms - 275[0m
[0mPOST /auth/login [32m200[0m 232.516 ms - 487[0m
[0mPOST /auth/register [32m201[0m 299.708 ms - 286[0m
[0mPATCH /auth/aprobar/690a2ea16617de31a0be6eed [32m200[0m 125.060 ms - 275[0m
[0mPOST /auth/login [32m200[0m 238.062 ms - 487[0m
[0mPOST /assignments [32m201[0m 130.494 ms - 299[0m
[0mPOST /slots [32m201[0m 272.296 ms - 550[0m
[0mPATCH /slots/690a2ea16617de31a0be6ef6/estado [33m400[0m 64.864 ms - 107[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mAlumno no puede reservar dos veces el mismo turno
[22m[39m[Seed] Usuarios base ya existentes, se omite insercion duplicada.

[0mPOST /auth/login [32m200[0m 227.225 ms - 550[0m
[0mPOST /auth/register [32m201[0m 272.609 ms - 290[0m
[0mPATCH /auth/aprobar/690a2ea36617de31a0be6f02 [32m200[0m 129.573 ms - 279[0m
[0mPOST /auth/login [32m200[0m 224.667 ms - 494[0m
[0mPOST /auth/register [32m201[0m 289.384 ms - 290[0m
[0mPATCH /auth/aprobar/690a2ea36617de31a0be6f08 [32m200[0m 132.352 ms - 279[0m
[0mPOST /auth/login [32m200[0m 214.728 ms - 494[0m
[0mPOST /auth/register [32m201[0m 308.409 ms - 286[0m
[0mPATCH /auth/aprobar/690a2ea46617de31a0be6f0e [32m200[0m 128.772 ms - 275[0m
[0mPOST /auth/login [32m200[0m 238.026 ms - 487[0m
[0mPOST /auth/register [32m201[0m 383.394 ms - 286[0m
[0mPATCH /auth/aprobar/690a2ea56617de31a0be6f14 [32m200[0m 136.219 ms - 275[0m
[0mPOST /auth/login [32m200[0m 235.729 ms - 487[0m
[0mPOST /assignments [32m201[0m 129.654 ms - 299[0m
[0mPOST /slots [32m201[0m 265.605 ms - 550[0m
[0mPATCH /slots/690a2ea66617de31a0be6f1d/solicitar [32m200[0m 266.060 ms - 572[0m
[90mstderr[2m | tests/slot.test.mjs[2m > [22m[2mSlots[2m > [22m[2mAlumno no puede reservar dos veces el mismo turno
[22m[39mError: Turno ya reservado

[0mPATCH /slots/690a2ea66617de31a0be6f1d/solicitar [33m403[0m 209.251 ms - 59[0m
 [32mâœ“[39m tests/slot.test.mjs [2m([22m[2m6 tests[22m[2m)[22m[33m 34242[2mms[22m[39m
   [33m[2mâœ“[22m[39m Slots[2m > [22mAlumno de otra cohorte no puede reservar un turno [33m 6245[2mms[22m[39m
   [33m[2mâœ“[22m[39m Slots[2m > [22mAlumno sin aprobacion no puede solicitar turno [33m 6002[2mms[22m[39m
   [33m[2mâœ“[22m[39m Slots[2m > [22mProfesor actualiza estado del turno entre aprobado y pendiente [33m 5287[2mms[22m[39m
   [33m[2mâœ“[22m[39m Slots[2m > [22mAlumno no autorizado no puede cambiar estado de turno [33m 4479[2mms[22m[39m
   [33m[2mâœ“[22m[39m Slots[2m > [22mEstado invalido al actualizar turno responde 400 [33m 4499[2mms[22m[39m
   [33m[2mâœ“[22m[39m Slots[2m > [22mAlumno no puede reservar dos veces el mismo turno [33m 4776[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 3 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m tests/assignment.test.mjs[2m > [22mAssignments[2m > [22mAlumno no puede crear una asignacion
[31m[1mError[22m: Fallo aprobacion de prof-owner: 401 {"message":"Usuario no encontrado","msg":"Usuario no encontrado"}[39m
[36m [2mâ¯[22m registerAndLogin tests/helpers/testUtils.mjs:[2m128:13[22m[39m
    [90m126| [39m
    [90m127| [39m    [35mif[39m (approveRes[33m.[39mstatus [33m!==[39m [34m200[39m) {
    [90m128| [39m      [35mthrow[39m [35mnew[39m [33mError[39m(
    [90m   | [39m            [31m^[39m
    [90m129| [39m        `Fallo aprobacion de ${prefix}: ${approveRes.status} ${JSON.stâ€¦
    [90m130| [39m      )[33m;[39m
[90m [2mâ¯[22m createBaseUsers tests/helpers/testUtils.mjs:[2m247:25[22m[39m
[90m [2mâ¯[22m tests/assignment.test.mjs:[2m22:15[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/3]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/auth.test.mjs[2m > [22mAuth[2m > [22mCredenciales del seed permiten login y conservan datos de modulo
[31m[1mError[22m: Test timed out in 45000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/auth.test.mjs:[2m31:7[22m[39m
    [90m 29| [39m  })[33m;[39m
    [90m 30| [39m
    [90m 31| [39m  test("Credenciales del seed permiten login y conservan datos de moduâ€¦
    [90m   | [39m      [31m^[39m
    [90m 32| [39m    [35mconst[39m { credentials } [33m=[39m [35mawait[39m [34mseedAllScriptUsers[39m({ reset[33m:[39m [35mtrue[39m })[33m;[39m
    [90m 33| [39m    [35mconst[39m batchSize [33m=[39m [34m12[39m[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/3]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/user.test.mjs[2m > [22mUsers[2m > [22mSuperadmin puede listar usuarios y los datos sensibles no se exponen
[31m[1mError[22m: Fallo aprobacion de prof-owner: 401 {"message":"Usuario no encontrado","msg":"Usuario no encontrado"}[39m
[36m [2mâ¯[22m registerAndLogin tests/helpers/testUtils.mjs:[2m128:13[22m[39m
    [90m126| [39m
    [90m127| [39m    [35mif[39m (approveRes[33m.[39mstatus [33m!==[39m [34m200[39m) {
    [90m128| [39m      [35mthrow[39m [35mnew[39m [33mError[39m(
    [90m   | [39m            [31m^[39m
    [90m129| [39m        `Fallo aprobacion de ${prefix}: ${approveRes.status} ${JSON.stâ€¦
    [90m130| [39m      )[33m;[39m
[90m [2mâ¯[22m createBaseUsers tests/helpers/testUtils.mjs:[2m247:25[22m[39m
[90m [2mâ¯[22m tests/user.test.mjs:[2m22:15[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/3]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (5)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m30 passed[39m[22m[90m (33)[39m
[2m   Start at [22m 13:48:10
[2m   Duration [22m 91.92s[2m (transform 900ms, setup 0ms, collect 18.68s, tests 213.82s, environment 19ms, prepare 3.41s)[22m

