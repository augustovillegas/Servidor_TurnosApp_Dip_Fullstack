## üíª Instrucciones para el Equipo de Backend (Debugging de Entregables)

**Problema Central:** El componente "Entregables" o "Evaluar Entregas" nunca se muestra, indicando un fallo en la ruta, autenticaci√≥n o permisos. El *backend* es la causa m√°s probable de un error de carga de datos (401, 403, 404).

| Tarea | Foco de la Correcci√≥n | Justificaci√≥n |
| :--- | :--- | :--- |
| **1. Validaci√≥n de Rutas y Montaje (404)** | **Auditar `server.mjs` y `entregasRoutes.mjs`:** Confirmar que los *routers* para **`/entregas`** (Profesores/Admin) y **`/submissions`** (Alumnos) est√©n **correctamente montados** en el servidor de Express y que las URLs no tengan errores tipogr√°ficos. | Un error de montaje en Express resulta en un 404 inmediato que el *frontend* interpreta como un fallo total, bloqueando la carga. |
| **2. Test de Permisos (401/403)** | **Prueba Exhaustiva de Autenticaci√≥n/Roles:** Forzar la llamada a `GET /entregas` (con token de Profesor) y `GET /submissions/:userId` (con token de Alumno). **Verificar que la respuesta sea 200 OK.** | Si el resultado es **401 (No Autorizado)** o **403 (Prohibido)**, el *middleware* de permisos (`auth.mjs` o `roles.mjs`) est√° bloqueando el acceso. Esto impide que el *frontend* reciba datos. |
| **3. Contrato con Lista Vac√≠a** | **Asegurar 200 OK con Array Vac√≠o:** Si una consulta no devuelve resultados (ej. el profesor no tiene entregas para evaluar, o el alumno no tiene entregas subidas), la respuesta **DEBE ser 200 OK** con un *payload* de **array vac√≠o `[]`**. | Si el *backend* retorna un 404 cuando la lista est√° vac√≠a, el *frontend* lo tratar√° como un error y no renderizar√° el componente `EmptyRow` (el comportamiento deseado). |
| **4. Revisi√≥n de `populate` de Datos** | **Auditar `entregaService.js`:** Confirmar que el servicio est√© realizando el `populate` de todos los campos necesarios (`slotId`, `alumnoId`, etc.) y que la *query* de Mongoose no est√© fallando internamente. | Un fallo en la *query* o en el *populate* puede lanzar un error 500 que bloquea la respuesta. |